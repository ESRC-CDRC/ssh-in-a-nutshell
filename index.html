<!doctype html>
<html>
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

		<title>reveal.js</title>

		<link rel="stylesheet" href="css/reveal.css">
		<link rel="stylesheet" href="css/theme/black.css">

		<!-- Theme used for syntax highlighting of code -->
		<link rel="stylesheet" href="lib/css/zenburn.css">

		<!-- Printing and PDF exports -->
		<script>
			var link = document.createElement( 'link' );
			link.rel = 'stylesheet';
			link.type = 'text/css';
			link.href = window.location.search.match( /print-pdf/gi ) ? 'css/print/pdf.css' : 'css/print/paper.css';
			document.getElementsByTagName( 'head' )[0].appendChild( link );
		</script>
    <style type="text/css" media="screen">
.reveal code {
  border: 1px solid #444444;
  background-color: #444444;
  padding: 7px 7px;
  border-radius: 10px;
}
    </style>
	</head>
	<body>
		<div class="reveal">
			<div class="slides">
				<section data-markdown>
          <script type="text/template" charset="utf-8">
# (S)ecure (Sh)ell

### Accessing Remote Computational Resource

By [Wen Li](https://github.com/spacelis)
          </script>
				</section>
        <section>
          <section data-markdown>
            <script type="text/template" charset="utf-8">
              
## Remote Access to Servers

![Server-client](images/servers.jpg)

<aside class="notes">
  Servers provide more central way of managing resources, e.g., computation, storage.
</aside>
            </script>
          </section>

          <section data-markdown>
            <script type="text/template" charset="utf-8">
## GUI Tools


- Microsoft Windows Remote Desktop
- VNC
- (Chrome Remote Desktop)
- (TeamViewer)
- ...


<aside class="notes">
  These are popular remote accessing softwares and they are all GUI based.
</aside>
            </script>
          </section>
          <section data-markdown>
            <script type="text/template" charset="utf-8">
              
## Welcome to The World of Termin~~ator~~als

Why SSH?
- Default on almost every *NIX based systems
- Light-weighted (text-based UI/CUI)
- Low requirement on network bandwidth
- Time-proved secure

            </script>
          </section>
          <section data-markdown>
            <script type="text/template" charset="utf-8">
              
## Tools for SSH

- ssh - defualt most *NIX like systems (Linux/Mac OS)
- [PuTTY](http://www.chiark.greenend.org.uk/~sgtatham/putty/download.html) - Straight forward on Windows
- [Cygwin](https://www.cygwin.com) - A larger collection of tools ported from *NIX like systems

<aside class="notes">
  PuTTY is the most straight forward for logging into a SSH service.
  The latter one (Cygwin) is a bunch of commandline tools mimic-ing *NIX based system, with which you can do a lot things including SSH-ing to a server.
  The using of ssh command in Cygwin is exactly the same as the one on Linux OSs.
</aside>

            </script>
          </section>
        </section>
        <section>
          <section data-markdown>
            <script type="text/template" charset="utf-8">
            ## Get started!

            ```ssh [username@]<host>```

            __or__

            ![PuTTY](images/putty_login_configuration.png)
              
            </script>
          </section>
          <section data-markdown>
            <script type="text/template" charset="utf-8">
## That's it.
### Thanks!
              
            </script>
          </section>
          <section data-markdown>
            <script type="text/template" charset="utf-8">
## Sorry!
It is more than that if you really wish to use the servers.
              
            </script>
          </section>
        </section>
        <section>
          
          <section data-markdown>
            <script type="text/template" charset="utf-8">
            
## When you ssh-ed to a server...

You will see ```<username>@<host>:~$```

- This is called *prompt*, indicating that the system is waiting for your orders
- It shows basic information about the current environment, your login, the host, and current directory
- You may use ```exit``` to quit the SSH session or simply hit ```Ctrl-D```


<aside class="notes">
  The tilde symbol (~) means your home directory, which is usually located at /home/username.
  But this may vary on different systems and you may check it by 'pwd'.
</aside>
            </script>
          </section>
          <section data-markdown>
            <script type="text/template" charset="utf-8">
            
## When you ssh-ed to a server...

Basic format of command

```<command> [parameter1 [parameter2] ... ]```

- Change current directory

  ```cd another/directory```

- List current directory

  ```ls an/directory``` or simply ```ls``` for current directory

<aside class="notes">
  Please notice that there are two way of interpreting a path to a directory.
  Relative path (that starting with no slash(/)) means a path starting from your current directory.
  At any moment you are sitting in a directory called "current working directy", you may find it in the prompt.
  Absolute path (that strating with a slash(/)) means a path starting for the system root and there is only one root for each system.
  Any file can be find by the two formats of path and the only difference is the number of keys you need to press.
</aside>
            </script>
          </section>
          <section data-markdown>
            <script type="text/template" charset="utf-8">
            
## A bit more...

- Copy a file

  ```cp path/to/source path/to/target```
  
- Move/Rename a file

  ```mv path/to/source path/to/target``` 

- And more can be found on the Internet

  Here is a small subset (Cheat Sheet) <a href="http://www.pixelbeat.org/cmdline.html" target="_blank">http://www.pixelbeat.org/cmdline.html</a>

<aside class="notes">
  You may use mv for renaming a file.
  Please notice, these command is running only on the server and cannot copy/move files across networks.
  The topic will be visited shortly.
</aside>
            </script>
          </section>
          <section data-markdown>
            <script type="text/javascript" charset="utf-8">
            
## Starting a R/Python environment

Just like entering any other command

- Starting a commandline environment of R

  ```R``` 

- Starting a commandline environment of Python
  
  ```python```

<aside class="notes">
  These are called commandline environment where you type R/Python statement and the environment will run each statement after you hit the enter key.
</aside>
            </script>
          </section>
          <section data-markdown>
            <script type="text/javascript" charset="utf-8">
            
## Copy/Move between machines

- Linux/MacOS

  In your terminal with command 

  + ```scp local/file <username>@<host>:path/to/target``` 

  + ```scp <username>@<host>:path/to/source local/file ``` 

- Windows
  
  + [WinSCP](https://winscp.net/eng/index.php)
  
  + ```scp``` in Cygwin/PuTTY Toolkit

<aside class="notes">
  
</aside>
            </script>
          </section>
          <section data-markdown>
            <script type="text/javascript" charset="utf-8">
            
## Running a R/Python script



- For R scripts

  ```R yourscript.R``` 

- For Python scripts
  
  ```python your_python_script.py```

- Stop it

  ```Ctrl-C```

<aside class="notes">
  Hopefully you do not need to start your program like this.
  But it will save you a lot of time if you need to run your script on several servers, as you may just copy paste the commandline to different ssh sessions.
  There are even more powerful tools for work with multi-server program, called ansible, and it can distribute your command to sever servers.
</aside>
            </script>
          </section>
          <section data-markdown>
            <script type="text/javascript" charset="utf-8">
            
## Long Running Command/Process/Scripts



- **tmux/screen**

  A tool to create a session that you can detach from and re-attach

- _cmd_ &/disown/ctrl-z/bg/fg/kill %1
  
  Simply using background processes and job management command

<aside class="notes">
  The first one is more elegent to manage, while the latter one sometimes is more handy.
  With tmux/screen you can open up a session and create/use multiple shell instances.
  You can detach with &lt;Ctrl-b&gt; then &lt;d&gt; (tmux) or &lt;Ctrl-a&gt; then &lt;d&gt;.
  Now you are safe to log out while your processes keep running on the server.
  Later, say the next day, you can log back in to the server and re-attach to the session via &lt;tmux a&gt; or &lt;screen -r&gt;.
  Tadaaa, your work session comes back just like what you have left.

  The other set of commands can also be useful if you start a process/script and suddenly realize that you need to log off.
  Then you need to use &lt;Ctrl-z&gt; to suspend the current running process and you will find the prompt of shell comes back.
  Now you can use command "bg" to put that process to the background.
  You can check the process by using "top" command and see whether it uses any CPU time.
  Then you need to "disown" the process so that it will keep running after you log out the server.
  Next time when you log back in to the server, you can check whether the process has finished/stopped using "top".
  But you will lose the output to the screen as they are gone when you issue the command "disown".
  So it is better to use tmux/screen for holding the screen output from your process.
</aside>
            </script>
          </section>
        </section>
        <section>
          
          <section data-markdown>
            <script type="text/template" charset="utf-8">
            
## Another bit more

Tools for better experience with terminals

-  cmder - [cmdr.net](http://cmder.net)
-  ConEmu - [conemu.github.io](https://conemu.github.io)

<aside class="notes">
  These two pieces of software do not provide anything for connection to a server, but they do making using the commandline easier.
  If you have Cygwin installed, you may config cmder/ConEmu to work together with it and cmder/ConEmu will provide you with a set nice things like multi-tabs, searching, hotkeys for copy/paste, etc.
</aside>
            </script>
          </section>
          <section data-markdown>
            <script type="text/javascript" charset="utf-8">
            
## Passwordless Login

Passwordless doesn't mean insecure

- Generating a key-pair for your identity 

  ```ssh-keygen -c <your email address>```

  There will be several questions you need to answer.
  You may just press enter for each question.

- Copy the identity to the host.

  ```ssh-copy-id [<username>@]<host>```
  
<aside class="notes">
  The command <code>ssh-keygen</code> will generate a key pair (private key, public key) which is used for authentication.
  The private key is the one you need to keep secret to yourself, while the public key can be distributed to others who need to verify your identity.
  The command <code>ssh-copy-id</code> will send the public key to the server you usually use and the server will create record of the public key in you account.
  So the next time when you try to login to the server, the server will ask for evidence that you hold the private key matching the public key.
</aside>
            </script>
          </section>
          <section data-markdown>
            <script type="text/javascript" charset="utf-8">
            
## Passwordless Login

- On Windows with PuTTY is hard

  - Check [Here](https://www.howtoforge.com/ssh_key_based_logins_putty), or
  - Use another client [Bitvise SSH Client](https://www.bitvise.com/ssh-client)

<aside class="notes">
  These are security tools, make sure your choice is reliable.
</aside>
            </script>
          </section>
          <section data-markdown>
            <script type="text/javascript" charset="utf-8">
            
## Port Forwarding

- SSH Option '-L'

  ```ssh ... -L<localport>:<host>:<port>```

  where ```...``` is something like 
  
  ```wenli@round.geog.ucl.ac.uk```

<aside class="notes">
  With port forwarding you can build an tunnel for accessing your machine through the firewall.
  For example if you have a windows machine allowing Remote Desktop, you can do "ssh username@host -L3388:yourmachineip:3389".
  Then you may just connect to your local 3388 port for accessing the remote machine in the office.
  There are four servers available for that, namely, round/square/arch/triangle.geog.ucl.ac.uk.

</aside>
            </script>
          </section>
          <section data-markdown>
            <script type="text/javascript" charset="utf-8">
            
## Port Forwarding (PuTTY)


![Port Forwarding in PuTTY](images/putty_port_forwarding.png)

<aside class="notes">
  With port forwarding you can build an tunnel for accessing your machine through the firewall.
  For example if you have a windows machine allowing Remote Desktop, you can do "ssh username@host -L3388:yourmachineip:3389".
  Then you may just connect to your local 3388 port for accessing the remote machine in the office.
  There are four servers available for that, namely, round/square/arch/triangle.geog.ucl.ac.uk.

</aside>
            </script>
          </section>
        </section>
        <section data-markdown>
          <script type="text/javascript" charset="utf-8">
            
## This is the real END
# Thank you!

```me@universe$ Questions?```

          </script>
        </section>
			</div>
		</div>

		<script src="lib/js/head.min.js"></script>
		<script src="js/reveal.js"></script>

		<script>
			// More info https://github.com/hakimel/reveal.js#configuration
			Reveal.initialize({
				history: true,

				// More info https://github.com/hakimel/reveal.js#dependencies
				dependencies: [
					{ src: 'plugin/markdown/marked.js' },
					{ src: 'plugin/markdown/markdown.js' },
					{ src: 'plugin/notes/notes.js', async: true },
					{ src: 'plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } }
				]
			});
		</script>
	</body>
</html>
